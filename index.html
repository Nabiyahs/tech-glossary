


<div class="tech-glossary">
    <style>
        .tech-glossary {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #fff;
            line-height: 1.6;
        }
        
        .tech-glossary * {
            box-sizing: border-box;
        }
        
        .tech-glossary .glossary-header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid #0047AB;
            padding-bottom: 20px;
        }
        
        .tech-glossary .glossary-title {
            font-size: 2.5rem;
            font-weight: bold;
            color: #0047AB;
            margin-bottom: 10px;
            margin-top: 0;
        }
        
        .tech-glossary .glossary-subtitle {
            font-size: 1.5rem;
            color: #666;
            font-weight: 500;
            margin: 0;
        }
        
        .tech-glossary .disclaimer-box {
            background: #f8f9fa;
            border-left: 4px solid #0047AB;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 5px;
        }
        
        .tech-glossary .disclaimer-box p {
            margin: 0 0 10px 0;
        }
        
        .tech-glossary .disclaimer-box p:last-child {
            margin-bottom: 0;
        }

    .tech-glossary {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 1200px; margin: 0 auto; padding: 20px; background: #fff; line-height: 1.6;
    }
    .tech-glossary * { box-sizing: border-box; }
    .glossary-header { text-align: center; margin-bottom: 30px; border-bottom: 3px solid #0047AB; padding-bottom: 20px; }
    .glossary-title { font-size: 2rem; font-weight: 800; color: #0047AB; margin: 0 0 6px 0; }
    .glossary-subtitle { font-size: 1.1rem; color: #666; font-weight: 600; margin: 0; }

    .disclaimer-box { background: #f8f9fa; border-left: 4px solid #0047AB; padding: 16px; margin-bottom: 20px; border-radius: 6px; }
    .disclaimer-box p { margin: 0; }

    .search-add-section { display: flex; gap: 12px; align-items: center; margin-bottom: 14px; }
    .search-input { flex: 1; padding: 12px 16px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px; }
    .search-input:focus { border-color: #0047AB; outline: none; box-shadow: 0 0 0 3px rgba(0,71,171,.1); }

    .controls-section { display: flex; gap: 12px; align-items: center; margin-bottom: 12px; flex-wrap: wrap; }
    .view-controls { display: flex; gap: 8px; }
    .view-btn { display: flex; align-items: center; gap: 6px; padding: 8px 12px; border: 2px solid #ddd; background: #fff; color: #333; border-radius: 8px; cursor: pointer; transition: all .2s; font-size: 14px; font-weight: 600; }
    .view-btn:hover { border-color: #0047AB; color: #0047AB; }
    .view-btn.active { background: #0047AB; color: #fff; border-color: #0047AB; }
    .view-icon { width: 18px; height: 18px; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }

    .disciplines-section { margin-bottom: 16px; display: flex; flex-wrap: wrap; gap: 8px; }
    .discipline-tag { padding: 7px 12px; background: #e9ecef; border: 1px solid #ddd; border-radius: 18px; cursor: pointer; transition: all .2s; font-size: 13px; display: flex; align-items: center; gap: 6px; }
    .discipline-tag:hover { background: #dee2e6; }
    .discipline-tag.active { background: #0047AB; color: #fff; border-color: #0047AB; }
    .discipline-icon { width: 16px; height: 16px; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }

    .glossary-table-container { border: 1px solid #ddd; border-radius: 8px; overflow: hidden; background: #fff; box-shadow: 0 2px 4px rgba(0,0,0,.08); }
    .glossary-table { width: 100%; border-collapse: collapse; margin: 0; table-layout: fixed; }
    .glossary-table th { background: #f8f9fa; padding: 12px 8px; text-align: left; font-weight: 700; border-bottom: 2px solid #ddd; color: #333; position: sticky; top: 0; z-index: 1; }
    .glossary-table td { padding: 10px 8px; border-bottom: 1px solid #eee; vertical-align: top; word-break: break-word; }
    .glossary-table tr:hover { background: #f8f9fa; }
    .glossary-table tr:last-child td { border-bottom: none; }

    .discipline-badge { background: rgba(0,71,171,.1); color: #0047AB; padding: 3px 6px; border-radius: 4px; font-size: 12px; font-weight: 700; display: inline-block; }
    .term-en { font-weight: 700; color: #333; }
    .term-kr { font-weight: 700; color: #0047AB; }
    .empty-state { text-align: center; padding: 30px; color: #666; font-style: italic; }

    .pagination-container { margin-top: 12px; padding: 12px; background: #f8f9fa; border-radius: 8px; border: 1px solid #e9ecef; display: flex; justify-content: space-between; align-items: center; gap: 14px; }
    .pagination-info { font-size: 13px; color: #6c757d; font-weight: 600; }
    .pagination-controls { display: flex; align-items: center; gap: 6px; }
    .pagination-btn { padding: 6px 10px; border: 1px solid #ddd; background: #fff; color: #495057; cursor: pointer; border-radius: 4px; font-size: 13px; font-weight: 600; transition: all .2s; min-width: 36px; height: 32px; display: flex; align-items: center; justify-content: center; }
    .pagination-btn:hover:not(:disabled) { background: #0047AB; color: #fff; border-color: #0047AB; }
    .pagination-btn:disabled { background: #f8f9fa; color: #adb5bd; cursor: not-allowed; border-color: #dee2e6; }
    .pagination-btn.active { background: #0047AB; color: #fff; border-color: #0047AB; }
    .pagination-pages { display: flex; gap: 4px; }
    .pagination-ellipsis { padding: 6px 4px; color: #6c757d; font-size: 13px; display: flex; align-items: center; }

    @media (max-width: 768px) {
      .tech-glossary { padding: 10px; }
      .glossary-title { font-size: 1.6rem; }
      .glossary-table th, .glossary-table td { padding: 8px 6px; font-size: 14px; }
      .glossary-table th:nth-child(5), .glossary-table td:nth-child(5) { display: none; }
      .pagination-container { flex-direction: column; gap: 10px; text-align: center; }
      .pagination-controls { justify-content: center; flex-wrap: wrap; }
    }
  </style>

  <!-- Header -->
  <div class="glossary-header" role="region" aria-label="Technical Glossary Header">
    <h1 class="glossary-title">English-Korean Technical Glossary</h1>
    <div class="glossary-subtitle">í•œì˜ ê¸°ìˆ ìš©ì–´ì§‘</div>
  </div>

  <!-- Disclaimer -->
<div class="disclaimer-box">
        <p><strong>ğŸ“‹ ì•ˆë‚´ì‚¬í•­:</strong> ì´ ìš©ì–´ì§‘ì€ SAMOO í•˜ì´í…Œí¬ 1ë³¸ë¶€ì—ì„œ í•´ì™¸ ì„¤ê³„ì‚¬ ë° ê±´ì„¤ì‚¬ì™€ì˜ í”„ë¡œì íŠ¸ íšŒì˜ í†µì—­ ë° ë²ˆì—­ ì—…ë¬´ë¥¼ í†µí•´ ì¶•ì ëœ ì‹¤ë¬´ ìš©ì–´ì§‘ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ê° ìš©ì–´ëŠ” ê´€ë ¨ì„±ê³¼ ì‹¤ë¬´ í™œìš©ë„ì— ë”°ë¼ í•´ë‹¹ ê³µì¢…ìœ¼ë¡œ ë¶„ë¥˜í•˜ì˜€ìœ¼ë©°, ì—¬ëŸ¬ ê³µì¢…ì— ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ìš©ì–´ì˜ ê²½ìš° ì£¼ìš” ì ìš© ë¶„ì•¼ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë°°ì¹˜í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
        <p><strong>ğŸ“§ ë¬¸ì˜:</strong> í•˜ì´í…Œí¬ 1ë³¸ë¶€ ì¡°í¬ìˆ˜ í”„ë¡œ</p>
    </div>


Â  <!-- Search -->
  <div class="search-add-section" role="search">
    <input type="text" id="searchInput" class="search-input" placeholder="ìš©ì–´ ê²€ìƒ‰ (ì˜ì–´, í•œêµ­ì–´, ì„¤ëª…)..." aria-label="ìš©ì–´ ê²€ìƒ‰ ì…ë ¥">
  </div>

  <!-- Controls -->
  <div class="controls-section" aria-label="ë³´ê¸° ì „í™˜">
    <div class="view-controls" role="group" aria-label="ë³´ê¸° ì„ íƒ">
      <button class="view-btn active" id="disciplineViewBtn" type="button">
        <svg class="view-icon" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M3 3h7v9H3z"/><path d="M14 3h7v5h-7z"/><path d="M14 12h7v9h-7z"/><path d="M3 16h7v5H3z"/>
        </svg>
        ê³µì¢…ë³„ ë³´ê¸°
      </button>
      <button class="view-btn" id="allViewBtn" type="button">
        <svg class="view-icon" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M8 6h13"/><path d="M8 12h13"/><path d="M8 18h13"/><circle cx="3" cy="6" r="1"/><circle cx="3" cy="12" r="1"/><circle cx="3" cy="18" r="1"/>
        </svg>
        ì „ì²´ ë³´ê¸°
      </button>
    </div>
  </div>

  <!-- Discipline Shortcuts -->
  <div class="disciplines-section" id="disciplineShortcuts" role="navigation" aria-label="ê³µì¢… ì„ íƒ"></div>

  <!-- Table -->
  <div class="glossary-table-container" role="region" aria-label="ìš©ì–´ í…Œì´ë¸”">
    <table class="glossary-table" id="glossaryTable">
      <thead>
      <tr>
        <th id="disciplineHeader" style="width:10%;display:none">êµ¬ë¶„</th>
        <th style="width:30%">EN</th>
        <th style="width:25%">KR</th>
        <th style="width:35%">ì„¤ëª…</th>
      </tr>
      </thead>
      <tbody id="glossaryTableBody"></tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div class="pagination-container" id="paginationContainer" style="display:none" aria-label="í˜ì´ì§€ë„¤ì´ì…˜">
    <div class="pagination-info"><span id="paginationInfo">ì „ì²´ 0ê°œ ìš©ì–´</span></div>
    <div class="pagination-controls">
      <button class="pagination-btn" id="firstPageBtn" title="ì²« í˜ì´ì§€" type="button">Â«</button>
      <button class="pagination-btn" id="prevPageBtn" title="ì´ì „ í˜ì´ì§€" type="button">â€¹</button>
      <div class="pagination-pages" id="paginationPages"></div>
      <button class="pagination-btn" id="nextPageBtn" title="ë‹¤ìŒ í˜ì´ì§€" type="button">â€º</button>
      <button class="pagination-btn" id="lastPageBtn" title="ë§ˆì§€ë§‰ í˜ì´ì§€" type="button">Â»</button>
    </div>
  </div>
</div>

<script>
/* ===========================================
   1) ë°ì´í„° ì„¤ì • (Confluence ì²¨ë¶€íŒŒì¼ ì°¸ì¡°)
   =========================================== */

// â˜…â˜…â˜… Confluence ì²¨ë¶€íŒŒì¼ URL ì„¤ì • â˜…â˜…â˜…
// ë°©ë²• 1: ê°™ì€ í˜ì´ì§€ì— ì²¨ë¶€ëœ ê²½ìš° (ìƒëŒ€ ê²½ë¡œ)
// const JSON_URL = 'glossary-data.json';

// ë°©ë²• 2: Confluence Server/Data Center
// const JSON_URL = '/download/attachments/YOUR_PAGE_ID/glossary-data.json';

// ë°©ë²• 3: Confluence Cloud  
// const JSON_URL = '/wiki/download/attachments/YOUR_PAGE_ID/glossary-data.json';

// ë°©ë²• 4: ì²¨ë¶€íŒŒì¼ ì§ì ‘ URL (í˜ì´ì§€ì—ì„œ ì²¨ë¶€íŒŒì¼ ìš°í´ë¦­ > ë§í¬ ë³µì‚¬)
const JSON_URL = 'glossary-data.json';



/* ===========================================
   2) ì „ì—­/ìƒìˆ˜
   =========================================== */
let glossaryData = [];
let currentView = 'discipline';
let selectedDiscipline = 'General';
let currentPage = 1;
const itemsPerPage = 50;
let filteredDataGlobal = [];

const disciplineMap = {
  'General': { abbreviation: 'Gen', koreanName: 'ì¼ë°˜',
    icon: `<svg class="discipline-icon" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14,2 14,8 20,8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><polyline points="10,9 9,9 8,9"/></svg>` },
  'Architecture': { abbreviation: 'Arch', koreanName: 'ê±´ì¶•',
    icon: `<svg class="discipline-icon" viewBox="0 0 24 24"><rect width="16" height="20" x="4" y="2" rx="2" ry="2"/><path d="M9 22v-4h6v4"/></svg>` },
  'Electrical': { abbreviation: 'Elec', koreanName: 'ì „ê¸°',
    icon: `<svg class="discipline-icon" viewBox="0 0 24 24"><polygon points="13,2 3,14 12,14 11,22 21,10 12,10"/></svg>` },
  'Piping': { abbreviation: 'Piping', koreanName: 'ë°°ê´€',
    icon: `<svg class="discipline-icon" viewBox="0 0 24 24"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>` },
  'Civil': { abbreviation: 'Civil', koreanName: 'í† ëª©',
    icon: `<svg class="discipline-icon" viewBox="0 0 24 24"><path d="m3 20 4-8 4 8 5-10 5 10v0H3z"/></svg>` },
  'Instrument & Control': { abbreviation: 'I&C', koreanName: 'ì œì–´',
    icon: `<svg class="discipline-icon" viewBox="0 0 24 24"><path d="M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z"/><path d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/></svg>` },
  'Fire Protection': { abbreviation: 'FP', koreanName: 'ì†Œë°©',
    icon: `<svg class="discipline-icon" viewBox="0 0 24 24"><rect width="6" height="16" x="9" y="4" rx="3"/><rect width="8" height="2" x="8" y="20" rx="1"/></svg>` },
  'HVAC': { abbreviation: 'HVAC', koreanName: 'ê³µì¡°',
    icon: `<svg class="discipline-icon" viewBox="0 0 24 24"><path d="M10.827 16.379a6.082 6.082 0 0 1-8.618-7.002l5.412 1.45a6.082 6.082 0 0 1 7.002-8.618l-1.45 5.412a6.082 6.082 0 0 1 8.618 7.002l-5.412-1.45a6.082 6.082 0 0 1-7.002 8.618l1.45-5.412Z"/></svg>` },
  'Structure': { abbreviation: 'Struct', koreanName: 'êµ¬ì¡°',
    icon: `<svg class="discipline-icon" viewBox="0 0 24 24"><path d="M6 2v20"/><path d="M18 2v20"/><path d="M2 6h20"/><path d="M2 18h20"/></svg>` },
  'Cell': { abbreviation: 'Cell', koreanName: 'ë°°í„°ë¦¬',
    icon: `<svg class="discipline-icon" viewBox="0 0 24 24"><rect width="16" height="10" x="2" y="7" rx="2" ry="2"/><line x1="22" x2="22" y1="11" y2="13"/></svg>` }
};
const disciplineOrder = ['General','Architecture','Electrical','Piping','Civil','Instrument & Control','Fire Protection','HVAC','Structure','Cell'];

/* ===========================================
   3) ì´ˆê¸°í™” (fetchë¡œ JSON ë¡œë“œ)
   =========================================== */
async function loadGlossaryData() {
  try {
    const response = await fetch(JSON_URL);
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    const data = await response.json();
    return data;
  } catch (error) {
    console.error('ìš©ì–´ì§‘ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
    // ë¡œë”© ì‹¤íŒ¨ ì‹œ ì‚¬ìš©ìì—ê²Œ ì•ˆë‚´
    const tbody = document.getElementById('glossaryTableBody');
    if (tbody) {
      tbody.innerHTML = `<tr><td colspan="4" class="empty-state">
        ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>
        <small style="color:#999;">JSON_URL ì„¤ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”: ${JSON_URL}</small>
      </td></tr>`;
    }
    return [];
  }
}

async function initializeGlossary() {
  const rawData = await loadGlossaryData();
  glossaryData = rawData.map((item, index) => ({ ...item, id: index + '_' + Math.random().toString(36).slice(2, 7) }));
  renderDisciplineShortcuts();
  setupEventListeners();
  renderTable();
}

// DOMContentLoaded ë³´ì¥ (Confluenceì—ì„œë„ ì•ˆì „)
(function safelyInit() {
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initializeGlossary, { once: true });
  } else {
    initializeGlossary();
  }
})();

/* ===========================================
   4) ì´ë²¤íŠ¸
   =========================================== */
function setupEventListeners() {
  const searchInput = document.getElementById('searchInput');
  if (searchInput) searchInput.addEventListener('input', handleSearch);

  // ë·° ì „í™˜ ë²„íŠ¼
  const disciplineBtn = document.getElementById('disciplineViewBtn');
  const allBtn = document.getElementById('allViewBtn');
  if (disciplineBtn) disciplineBtn.addEventListener('click', () => setView('discipline'));
  if (allBtn) allBtn.addEventListener('click', () => setView('all'));

  // í˜ì´ì§€ë„¤ì´ì…˜ ë²„íŠ¼
  const firstBtn = document.getElementById('firstPageBtn');
  const prevBtn  = document.getElementById('prevPageBtn');
  const nextBtn  = document.getElementById('nextPageBtn');
  const lastBtn  = document.getElementById('lastPageBtn');
  if (firstBtn) firstBtn.addEventListener('click', () => goToPage(1));
  if (prevBtn)  prevBtn.addEventListener('click', () => goToPage(currentPage - 1));
  if (nextBtn)  nextBtn.addEventListener('click', () => goToPage(currentPage + 1));
  if (lastBtn)  lastBtn.addEventListener('click', () => {
    const totalPages = Math.ceil(filteredDataGlobal.length / itemsPerPage) || 1;
    goToPage(totalPages);
  });
}

/* ===========================================
   5) í•¸ë“¤ëŸ¬ / ë Œë”ë§
   =========================================== */
function handleSearch(e) {
  const val = (e.target.value || '').toLowerCase();
  currentPage = 1;
  renderTable(val);
}

function setView(view) {
  currentView = view;
  document.getElementById('disciplineViewBtn').classList.toggle('active', view === 'discipline');
  document.getElementById('allViewBtn').classList.toggle('active', view === 'all');
  document.getElementById('disciplineHeader').style.display = (view === 'discipline') ? 'none' : 'table-cell';
  currentPage = 1;
  renderTable(document.getElementById('searchInput').value || '');
}

function renderDisciplineShortcuts() {
  const container = document.getElementById('disciplineShortcuts');
  if (!container) return;
  container.innerHTML = '';
  disciplineOrder.forEach(discipline => {
    const el = document.createElement('button');
    el.type = 'button';
    el.className = 'discipline-tag' + (discipline === selectedDiscipline ? ' active' : '');
    el.innerHTML = (disciplineMap[discipline]?.icon || '') + (disciplineMap[discipline]?.koreanName || discipline);
    el.addEventListener('click', () => {
      selectedDiscipline = discipline;
      renderDisciplineShortcuts();
      if (currentView === 'discipline') { currentPage = 1; renderTable(document.getElementById('searchInput').value || ''); }
    });
    container.appendChild(el);
  });
}

function renderTable(searchTerm = '') {
  const tbody = document.getElementById('glossaryTableBody');
  if (!tbody) return;

  // í•„í„°ë§
  let filtered = glossaryData.slice();
  if (searchTerm) {
    filtered = filtered.filter(t =>
      (t.en || '').toLowerCase().includes(searchTerm) ||
      (t.kr || '').toLowerCase().includes(searchTerm) ||
      (t.description || '').toLowerCase().includes(searchTerm) ||
      ((disciplineMap[t.discipline]?.abbreviation || '').toLowerCase().includes(searchTerm)) ||
      ((disciplineMap[t.discipline]?.koreanName || '').toLowerCase().includes(searchTerm))
    );
  }
  if (currentView === 'discipline') {
    filtered = filtered.filter(t => t.discipline === selectedDiscipline);
  }

  // ì •ë ¬
  filtered.sort((a, b) => {
    if (currentView === 'discipline') return a.en.localeCompare(b.en);
    const ai = disciplineOrder.indexOf(a.discipline);
    const bi = disciplineOrder.indexOf(b.discipline);
    return ai !== bi ? ai - bi : a.en.localeCompare(b.en);
  });

  filteredDataGlobal = filtered;

  // í˜ì´ì§€ë„¤ì´ì…˜ ê³„ì‚°
  const total = filtered.length;
  const totalPages = Math.ceil(total / itemsPerPage) || 1;
  if (currentPage > totalPages) currentPage = totalPages;
  const start = (currentPage - 1) * itemsPerPage;
  const end   = Math.min(start + itemsPerPage, total);
  const pageData = filtered.slice(start, end);

  // í˜ì´ì§€ë„¤ì´ì…˜ UI
  updatePaginationInfo(total, start, end);
  renderPaginationControls(totalPages);

  // ë³¸ë¬¸ ë Œë”
  tbody.innerHTML = '';
  if (total === 0) {
    const row = tbody.insertRow();
    const cell = row.insertCell();
    cell.colSpan = (currentView === 'discipline') ? 3 : 4;
    cell.innerHTML = '<div class="empty-state">ë“±ë¡ëœ ìš©ì–´ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
    document.getElementById('paginationContainer').style.display = 'none';
    return;
  }
  document.getElementById('paginationContainer').style.display = (total > itemsPerPage) ? 'flex' : 'none';

  pageData.forEach(t => {
    const row = tbody.insertRow();

    if (currentView === 'all') {
      const dcell = row.insertCell();
      const badge = (disciplineMap[t.discipline]?.abbreviation) || t.discipline;
      dcell.innerHTML = `<span class="discipline-badge">${badge}</span>`;
    }

    const en = row.insertCell();
    en.textContent = t.en || '';
    en.className = 'term-en';

    const kr = row.insertCell();
    kr.textContent = t.kr || '';
    kr.className = 'term-kr';

    const desc = row.insertCell();
    desc.textContent = t.description || '';
  });
}

/* ===========================================
   6) í˜ì´ì§€ë„¤ì´ì…˜
   =========================================== */
function updatePaginationInfo(total, start, end) {
  const info = document.getElementById('paginationInfo');
  if (!info) return;
  info.textContent = total === 0 ? 'ì „ì²´ 0ê°œ ìš©ì–´' : `ì „ì²´ ${total}ê°œ ìš©ì–´ (${start + 1}-${end}ë²ˆì§¸ í‘œì‹œ)`;
}

function renderPaginationControls(totalPages) {
  const container = document.getElementById('paginationPages');
  const firstBtn = document.getElementById('firstPageBtn');
  const prevBtn  = document.getElementById('prevPageBtn');
  const nextBtn  = document.getElementById('nextPageBtn');
  const lastBtn  = document.getElementById('lastPageBtn');
  if (!container) return;

  container.innerHTML = '';
  firstBtn.disabled = currentPage === 1;
  prevBtn.disabled  = currentPage === 1;
  nextBtn.disabled  = currentPage === totalPages || totalPages === 0;
  lastBtn.disabled  = currentPage === totalPages || totalPages === 0;

  if (totalPages <= 1) return;

  const pages = generatePageNumbers(currentPage, totalPages);
  pages.forEach(p => {
    if (p === '...') {
      const span = document.createElement('span');
      span.className = 'pagination-ellipsis';
      span.textContent = '...';
      container.appendChild(span);
    } else {
      const btn = document.createElement('button');
      btn.type = 'button';
      btn.className = `pagination-btn ${p === currentPage ? 'active' : ''}`;
      btn.textContent = p;
      btn.addEventListener('click', () => goToPage(p));
      container.appendChild(btn);
    }
  });
}

function generatePageNumbers(current, total) {
  const pages = [];
  if (total <= 7) { for (let i = 1; i <= total; i++) pages.push(i); }
  else {
    pages.push(1);
    if (current <= 4) { for (let i = 2; i <= 5; i++) pages.push(i); pages.push('...', total); }
    else if (current >= total - 3) { pages.push('...'); for (let i = total - 4; i <= total; i++) pages.push(i); }
    else { pages.push('...', current - 1, current, current + 1, '...', total); }
  }
  return pages;
}

function goToPage(page) {
  const totalPages = Math.ceil((filteredDataGlobal.length || 0) / itemsPerPage) || 1;
  if (page < 1 || page > totalPages) return;
  currentPage = page;
  renderTable(document.getElementById('searchInput').value || '');
}
</script>




